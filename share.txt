source "vsphere-clone" "windows" {

  // vCenter Server Endpoint Settings and Credentials
  vcenter_server      = "dso-va.com"
  username            = var.VCENTER_ACCOUNT_USR
  password            = var.VCENTER_ACCOUNT_PSW
  insecure_connection = true
  datacenter          = "ccv-DC"
  cluster             = "dso-va.com"
  datastore           = "ccv-dev.com"
  folder              = var.vcenter_cloned_folder_location

  // Communicator Settings and Credentials
  communicator   = "winrm"
  winrm_username = var.SERVICE_ACCOUNT_USR
  winrm_password = var.SERVICE_ACCOUNT_PSW
  winrm_port     = 5986
  winrm_timeout  = "60m"
  winrm_use_ssl  = true
  winrm_insecure = true

  // Virtual Machine Settings
  template 	          = var.vm_to_clone_name
  vm_name             = var.cloned_vm_name
  network             = "v-22-sid-25202-ssb-horizon-isolated-switch"
  notes               = "VM template created by pipeline"
  convert_to_template = true

}
