$Credential = New-Object System.Management.Automation.PSCredential ('NEXUS_TOKEN_NAME', (ConvertTo-SecureString $NEXUS_TOKEN_PASS -AsPlainText -Force))
Invoke-RestMethod -Uri $UPLOAD_URL -Method Put -InFile $WIM_PATH -Credential $Credential



My supplier on the internal network is having networking issues when they try to install and run the provided hardened VM RHEL image:

“We’re having a networking issue where we can ping servers on the same ESXi host but cannot ping anything else outside of ESXi host."

What could be the possible problem with this. how should I respond


curl -u ${NEXUS_TOKEN_NAME}:${NEXUS_TOKEN_PASS} --upload-file $WIM_PATH $UPLOAD_URL






# Define the credentials
$credential = New-Object System.Management.Automation.PSCredential -ArgumentList $NEXUS_TOKEN_NAME, (ConvertTo-SecureString $NEXUS_TOKEN_PASS -AsPlainText -Force)

# Define the headers for the request
$headers = @{
    Authorization = "Basic " + [Convert]::ToBase64String([Text.Encoding]::ASCII.GetBytes("${NEXUS_TOKEN_NAME}:${NEXUS_TOKEN_PASS}"))
}

# Define the URI and file path
$uri = $NEXUS_URL
$filePath = $WIM_PATH

# Invoke the REST method
Invoke-RestMethod -Method Put -Uri $uri -Headers $headers -InFile $filePath -ContentType 'multipart/form-data'
