curl -u $NEXUS_TOKEN_NAME:$NEXUS_TOKEN_PASS --upload-file /mnt/ssb-fileshare/ssb-wsus-pipeline/C-Team/** $NEXUS_BASE_REPO_URL/C-Team/

curl -u $USDIN_NEXUS_TOKEN_NAME:$USDIN_NEXUS_TOKEN_PASS --upload-file /mnt/ssb-fileshare/ssb-wsus-pipeline/QRTC-Team/Windows/qrtc-cots-win10/1.0.1/20231214-184922/EXPORT-qrtc-cots-win10-1.0.1-20231214-184922.iso $NEXUS_BASE_REPO_URL2/TEST/ -m 3600


#!/bin/bash

# Your Nexus credentials and base URL
NEXUS_TOKEN_NAME="your_nexus_token_name"
NEXUS_TOKEN_PASS="your_nexus_token_password"
NEXUS_BASE_REPO_URL="your_nexus_base_repo_url"

# The root directory containing the files you want to upload
ROOT_DIRECTORY="/mnt/fileshare/pipeline-export/C-Team"

# Function to upload a file
upload_file() {
    local file_path="$1"
    local nexus_url="$2"
    echo "Uploading ${file_path} to ${nexus_url}"
    curl -u $NEXUS_TOKEN_NAME:$NEXUS_TOKEN_PASS --upload-file "$file_path" "$nexus_url"
}

# Recursive function to loop through directories
process_directory() {
    local directory_path="$1"
    for file in "$directory_path"/*; do
        if [ -f "$file" ]; then
            # It's a file, upload it
            local file_relative_path="${file#$ROOT_DIRECTORY/}"
            upload_file "$file" "$NEXUS_BASE_REPO_URL/$file_relative_path"
        elif [ -d "$file" ]; then
            # It's a directory, process it
            process_directory "$file"
        fi
    done
}

# Start processing from the root directory
process_directory "$ROOT_DIRECTORY"



* TLSv1.3 (OUT), TLS app data, [no content] (0):
} [1 bytes data]
* TLSv1.3 (OUT), TLS app data, [no content] (0):
} [1 bytes data]
* TLSv1.3 (OUT), TLS app data, [no content] (0):
} [1 bytes data]
* TLSv1.3 (OUT), TLS app data, [no content] (0):
Job's log exceeded limit of 4194304 bytes.
Job execution will continue but no more output will be collected.
